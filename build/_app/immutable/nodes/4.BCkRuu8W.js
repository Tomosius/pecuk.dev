import"../chunks/DsnmJJEf.js";import{d as _e,p as he,e as q,h as A,u as fe,i as h,g as e,f as p,t as g,a as v,j as ge,c as n,s as u,r as l,k as be,b as x}from"../chunks/CngUWQ3u.js";import{i as m}from"../chunks/DLEAk2gr.js";import{e as D,r as xe,s as F}from"../chunks/CU-bvBX9.js";import{s as V}from"../chunks/BP3bKlWt.js";import{l as me,b as we,q as ye}from"../chunks/C53rCxro.js";import{b as W}from"../chunks/BIt7G-60.js";function ke(B,w,_,f){h(w,""),h(_,[],!0),h(f,[],!0)}var $e=p('<button type="button" class="text-sm underline opacity-80">Clear</button>'),qe=(B,w,_)=>w(_),Ke=p('<button type="button"> </button>'),Te=p('<div class="flex flex-wrap items-center gap-2"><span class="mr-2 text-sm opacity-70">Tech:</span> <!></div>'),je=(B,w,_)=>w(_),Ae=p('<button type="button"> </button>'),Be=p('<div class="flex flex-wrap items-center gap-2"><span class="mr-2 text-sm opacity-70">Keywords:</span> <!></div>'),Ce=p('<img alt="" class="h-40 w-full object-cover"/>'),De=p('<div class="h-40 w-full bg-gradient-to-b from-white/10 to-white/5"></div>'),Fe=p('<p class="mt-0.5 text-xs opacity-70"> </p>'),Ie=p('<p class="mt-1 line-clamp-3 text-sm opacity-80"> </p>'),Le=p('<span class="inline-flex items-center rounded-full border border-white/10 bg-white/10 px-2 py-0.5 text-xs"> </span>'),Oe=p('<span class="text-xs opacity-70"> </span>'),Pe=p('<div class="mt-3 flex flex-wrap gap-1.5"><!> <!></div>'),Se=p('<a class="group block overflow-hidden rounded-2xl border border-white/10 bg-white/5 shadow-[0_0_0_1px_rgba(255,255,255,0.06)_inset] backdrop-blur-sm transition hover:border-white/20 hover:bg-white/10"><!> <div class="p-4"><h2 class="text-lg font-semibold"> </h2> <!> <!> <!></div></a>'),Ue=p('<div class="mx-auto max-w-6xl px-4 pb-24 sm:px-6 lg:px-8"><header class="mb-6 pt-10"><h1 class="text-4xl font-bold tracking-tight">Blog</h1> <p class="mt-1 opacity-80"> </p></header> <div class="flex flex-col gap-4"><div class="flex flex-wrap items-center gap-3"><input type="search" placeholder="Search posts…" class="rounded-xl border border-white/10 bg-white/10 px-4 py-2 placeholder-white/40 focus:ring-2 focus:ring-[var(--accent)] focus:outline-none"/> <!></div> <!> <!></div> <div class="mt-8 grid gap-5 sm:grid-cols-2 lg:grid-cols-3"></div></div>');function Qe(B,w){he(w,!0);let _=q(""),f=q(A([])),y=q(A([])),G=q(!0),C=q(A([])),I=q(A([])),L=q(A([]));fe(()=>{(async()=>{const{items:r}=await me();h(C,r.filter(t=>t.type==="blog"),!0);{const t={},a=[];for(const i of e(C))for(const o of i.tech??[])t[o]||(t[o]=!0,a.push(o));h(I,a.sort(),!0)}{const t={},a=[];for(const i of e(C))for(const o of i.keywords??[])t[o]||(t[o]=!0,a.push(o));h(L,a.sort(),!0)}h(G,!1)})()});const O=be(()=>ye(e(C),{q:e(_),filter:{type:"blog",techAny:e(f).length?e(f):void 0,keywordsAny:e(y).length?e(y):void 0},sortBy:"date",sortDir:"desc"}));function H(r,t){const a=r.slice(),i=a.indexOf(t);return i>=0?a.splice(i,1):a.push(t),a}const X=r=>h(f,H(e(f),r),!0),Y=r=>h(y,H(e(y),r),!0),Z=r=>r?`${W}${r}`:void 0;var P=Ue(),S=n(P),J=u(n(S),2),ee=n(J,!0);l(J),l(S);var U=u(S,2),z=n(U),E=n(z);xe(E);var te=u(E,2);{var re=r=>{var t=$e();t.__click=[ke,_,f,y],v(r,t)};m(te,r=>{(e(f).length||e(y).length)&&r(re)})}l(z);var M=u(z,2);{var ae=r=>{var t=Te(),a=u(n(t),2);D(a,16,()=>e(I),i=>i,(i,o)=>{var d=Ke();d.__click=[qe,X,o];var K=n(d,!0);l(d),g(k=>{V(d,1,k),F(d,"title",o),x(K,o)},[()=>`rounded-lg border px-2 py-1 text-sm transition ${e(f).includes(o)?"border-[var(--accent)]/40 bg-[var(--accent)]/15":"border-white/10 bg-white/5 hover:bg-white/10"}`]),v(i,d)}),l(t),v(r,t)};m(M,r=>{e(I).length&&r(ae)})}var oe=u(M,2);{var se=r=>{var t=Be(),a=u(n(t),2);D(a,16,()=>e(L),i=>i,(i,o)=>{var d=Ae();d.__click=[je,Y,o];var K=n(d,!0);l(d),g(k=>{V(d,1,k),F(d,"title",o),x(K,o)},[()=>`rounded-lg border px-2 py-1 text-sm transition ${e(y).includes(o)?"border-[var(--accent)]/40 bg-[var(--accent)]/15":"border-white/10 bg-white/5 hover:bg-white/10"}`]),v(i,d)}),l(t),v(r,t)};m(oe,r=>{e(L).length&&r(se)})}l(U);var N=u(U,2);D(N,21,()=>e(O),r=>r.slug,(r,t)=>{var a=Se(),i=n(a);{var o=s=>{var c=Ce();g(b=>F(c,"src",b),[()=>Z(e(t).cover)]),v(s,c)},d=s=>{var c=De();v(s,c)};m(i,s=>{e(t).cover?s(o):s(d,!1)})}var K=u(i,2),k=n(K),le=n(k,!0);l(k);var Q=u(k,2);{var ie=s=>{var c=Fe(),b=n(c,!0);l(c),g(()=>x(b,e(t).date)),v(s,c)};m(Q,s=>{e(t).date&&s(ie)})}var R=u(Q,2);{var ne=s=>{var c=Ie(),b=n(c,!0);l(c),g(()=>x(b,e(t).summary)),v(s,c)};m(R,s=>{e(t).summary&&s(ne)})}var ce=u(R,2);{var de=s=>{var c=Pe(),b=n(c);D(b,16,()=>e(t).tech.slice(0,4),$=>$,($,T)=>{var j=Le(),ue=n(j,!0);l(j),g(()=>x(ue,T)),v($,j)});var ve=u(b,2);{var pe=$=>{var T=Oe(),j=n(T);l(T),g(()=>x(j,`+${e(t).tech.length-4} more`)),v($,T)};m(ve,$=>{e(t).tech.length>4&&$(pe)})}l(c),v(s,c)};m(ce,s=>{e(t).tech?.length&&s(de)})}l(K),l(a),g(()=>{F(a,"href",`${W}/blog/${e(t).slug}`),x(le,e(t).title)}),v(r,a)}),l(N),l(P),g(()=>x(ee,e(G)?"Loading…":`${e(O).length} post${e(O).length===1?"":"s"}`)),we(E,()=>e(_),r=>h(_,r)),v(B,P),ge()}_e(["click"]);export{Qe as component};
