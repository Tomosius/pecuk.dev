import"../chunks/DsnmJJEf.js";import"../chunks/Ci_-RSxb.js";import{aL as K,a5 as R,I as i,aM as X,k as Y,y as M,aN as Z,p as F,f as h,c as m,L as u,s as _,r as v,t as k,b as S,g as t,a as g,h as G,aO as ee,d as ae,aP as re,aQ as te,i as V,m as N,e as U,af as se}from"../chunks/B7knsZ90.js";import{i as D}from"../chunks/y5SO2xhQ.js";import{e as I,s as A,r as oe}from"../chunks/Dd2Sg62T.js";import{s as le}from"../chunks/Bt-qeMyq.js";import{i as H}from"../chunks/bW3SGYoM.js";import{p as W}from"../chunks/QhWObIqn.js";import{p as ie}from"../chunks/BWjRsQxc.js";import{b as B,a as ce}from"../chunks/Bi-dsBaK.js";function ve(e,f,r=f){var n=new WeakSet;K(e,"input",async l=>{var d=l?e.defaultValue:e.value;if(d=O(e)?Q(d):d,r(d),M!==null&&n.add(M),await R(),d!==(d=f())){var x=e.selectionStart,b=e.selectionEnd;e.value=d??"",b!==null&&(e.selectionStart=x,e.selectionEnd=Math.min(b,e.value.length))}}),(Y&&e.defaultValue!==e.value||i(f)==null&&e.value)&&(r(O(e)?Q(e.value):e.value),M!==null&&n.add(M)),X(()=>{var l=f();if(e===document.activeElement){var d=Z??M;if(n.has(d))return}O(e)&&l===Q(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function O(e){var f=e.type;return f==="number"||f==="range"}function Q(e){return e===""?null:+e}var ne=h('<img class="w-full aspect-[16/9] object-cover rounded-2xl"/>'),de=h('<p class="mt-1 text-sm opacity-70"> </p>'),fe=h('<span class="rounded-lg border border-white/10 bg-white/5 px-2 py-0.5"> </span>'),ue=h('<a target="_blank" rel="noreferrer" class="text-sm opacity-90 hover:opacity-100"> </a>'),me=h('<article class="rounded-2xl border border-white/12 bg-white/[0.06] hover:bg-white/[0.08] transition backdrop-blur-md"><!> <div class="p-4"><h3 class="text-lg font-semibold"> </h3> <!> <p class="mt-2 opacity-85"> </p> <div class="mt-3 flex flex-wrap gap-2 text-xs opacity-80"></div> <div class="mt-4 flex items-center gap-3"><a class="text-[var(--accent)] text-sm">Details →</a> <!></div></div></article>');function _e(e,f){F(f,!1);let r=ie(f,"p",8);H();var n=me(),l=m(n);{var d=s=>{var c=ne();k(()=>{A(c,"src",(u(r()),i(()=>r().cover))),A(c,"alt",(u(r()),i(()=>r().title)))}),g(s,c)};D(l,s=>{u(r()),i(()=>r().cover)&&s(d)})}var x=_(l,2),b=m(x),j=m(b,!0);v(b);var w=_(b,2);{var $=s=>{var c=de(),p=m(c,!0);v(c),k(()=>S(p,(u(r()),i(()=>r().year)))),g(s,c)};D(w,s=>{u(r()),i(()=>r().year)&&s($)})}var y=_(w,2),P=m(y,!0);v(y);var C=_(y,2);I(C,5,()=>(u(r()),i(()=>r().tags)),s=>s,(s,c)=>{var p=fe(),E=m(p,!0);v(p),k(()=>S(E,t(c))),g(s,p)}),v(C);var q=_(C,2),L=m(q),a=_(L,2);{var o=s=>{var c=ee(),p=ae(c);I(p,1,()=>(u(r()),i(()=>r().links)),E=>E.href,(E,z)=>{var T=ue(),J=m(T,!0);v(T),k(()=>{A(T,"href",(t(z),i(()=>t(z).href))),S(J,(t(z),i(()=>t(z).label)))}),g(E,T)}),g(s,c)};D(a,s=>{u(r()),i(()=>r().links)&&s(o)})}v(q),v(x),v(n),k(()=>{S(j,(u(r()),i(()=>r().title))),S(P,(u(r()),i(()=>r().summary))),A(L,"href",(u(B),u(r()),i(()=>`${B}/projects/${r().slug}`)))}),g(e,n),G()}var pe=h("<button> </button>"),ge=h('<button class="text-sm opacity-80 underline">Clear</button>'),be=h('<div class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 pb-24"><h1 class="pt-10 text-4xl font-bold tracking-tight">Projects</h1> <div class="mt-6 flex flex-wrap items-center gap-3"><input placeholder="Search projects…" class="rounded-xl border border-white/10 bg-white/10 px-4 py-2 placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-[var(--accent)]"/> <div class="flex flex-wrap gap-2"><!> <!></div></div> <div class="mt-8 grid gap-5 sm:grid-cols-2 lg:grid-cols-3"></div></div>');function Ee(e,f){F(f,!1);const r=N();let n=N(""),l=N(new Set);const d=Array.from(new Set(W.flatMap(a=>a.tags??[]))).sort(),x=a=>`${ce}/${a}`;function b(a){const o=new Set(t(l));o.has(a)?o.delete(a):o.add(a),V(l,o)}re(()=>(t(n),t(l)),()=>{V(r,W.filter(a=>t(n)?(a.title+" "+a.summary+" "+(a.tags??[]).join(" ")).toLowerCase().includes(t(n).toLowerCase()):!0).filter(a=>t(l).size===0||(a.tags??[]).some(o=>t(l).has(o))))}),te(),H();var j=be(),w=_(m(j),2),$=m(w);oe($);var y=_($,2),P=m(y);I(P,1,()=>d,a=>a,(a,o)=>{var s=pe(),c=m(s,!0);v(s),k(p=>{le(s,1,`rounded-lg border px-2 py-1 text-sm
                 ${p??""}`),S(c,t(o))},[()=>(t(l),t(o),i(()=>t(l).has(t(o))?"border-[var(--accent)]/40 bg-[var(--accent)]/10":"border-white/10 bg-white/5"))]),U("click",s,()=>b(t(o))),g(a,s)});var C=_(P,2);{var q=a=>{var o=ge();U("click",o,()=>V(l,new Set)),g(a,o)};D(C,a=>{t(l),i(()=>t(l).size)&&a(q)})}v(y),v(w);var L=_(w,2);I(L,5,()=>t(r),a=>a.slug,(a,o)=>{{let s=se(()=>(t(o),i(()=>t(o).cover?x(t(o).cover):void 0)));_e(a,{get p(){return t(o)},get coverUrl(){return t(s)}})}}),v(L),v(j),ve($,()=>t(n),a=>V(n,a)),g(e,j),G()}export{Ee as component};
