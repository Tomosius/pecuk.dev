import"../chunks/DsnmJJEf.js";import{d as oe,p as le,e as j,h as D,u as J,i as p,g as t,f as n,t as _,a as c,j as ie,c as l,s as d,r as o,b as m}from"../chunks/CngUWQ3u.js";import{i as k}from"../chunks/DLEAk2gr.js";import{e as F,r as ce,s as K}from"../chunks/CU-bvBX9.js";import{s as ne}from"../chunks/BP3bKlWt.js";import{l as de,q as ve,b as pe}from"../chunks/C53rCxro.js";import{b as M}from"../chunks/BIt7G-60.js";function he(q,b,v){p(b,""),p(v,[],!0)}var ue=(q,b,v)=>b(v),_e=n('<button type="button"> </button>'),fe=n('<button type="button" class="text-sm underline opacity-80">Clear</button>'),ge=n('<img alt="" class="h-40 w-full object-cover"/>'),me=n('<div class="h-40 w-full bg-gradient-to-b from-white/10 to-white/5"></div>'),be=n('<p class="mt-1 line-clamp-3 text-sm opacity-80"> </p>'),xe=n(`<span class="inline-flex items-center rounded-full border border-white/10 bg-white/10
                              px-2 py-0.5 text-xs"> </span>`),we=n('<span class="text-xs opacity-70"> </span>'),ye=n('<div class="mt-3 flex flex-wrap gap-1.5"><!> <!></div>'),je=n(`<a class="group block overflow-hidden rounded-2xl border border-white/10 bg-white/5
               shadow-[0_0_0_1px_rgba(255,255,255,0.06)_inset] backdrop-blur-sm transition
               hover:border-white/20 hover:bg-white/10"><!> <div class="p-4"><h2 class="text-lg font-semibold"> </h2> <!> <!></div></a>`),ke=n(`<div class="mx-auto max-w-6xl px-4 pb-24 sm:px-6 lg:px-8"><header class="mb-6 pt-10"><h1 class="text-4xl font-bold tracking-tight">Projects</h1> <p class="mt-1 opacity-80"> </p></header> <div class="flex flex-wrap items-center gap-3"><input type="search" aria-label="Search projects" placeholder="Search projects…" class="rounded-xl border border-white/10 bg-white/10 px-4 py-2 placeholder-white/40
             focus:ring-2 focus:ring-[var(--accent)] focus:outline-none"/> <div class="flex flex-wrap gap-2"><!> <!></div></div> <div class="mt-8 grid gap-5 sm:grid-cols-2 lg:grid-cols-3"></div></div>`);function Ce(q,b){le(b,!0);let v=j(""),h=j(D([])),I=j(!0),$=[],x=j(D([])),L=j(D([]));J(()=>{(async()=>{const{items:r}=await de();$=r.filter(a=>a.type==="project");const e=new Set;for(const a of $)for(const f of a.tech??[])e.add(f);p(L,Array.from(e).sort(),!0),p(x,$,!0),p(I,!1)})()}),J(()=>{p(x,ve($,{q:t(v),filter:{type:"project",techAny:t(h).length?t(h):void 0},sortBy:"date",sortDir:"desc"}),!0)});function N(r){const e=t(h).slice(),a=e.indexOf(r);a>=0?e.splice(a,1):e.push(r),p(h,e,!0)}const Q=r=>r?`${M}${r}`:void 0;var S=ke(),T=l(S),O=d(l(T),2),R=l(O,!0);o(O),o(T);var A=d(T,2),P=l(A);ce(P);var U=d(P,2),z=l(U);F(z,16,()=>t(L),r=>r,(r,e)=>{var a=_e();a.__click=[ue,N,e];var f=l(a,!0);o(a),_(B=>{ne(a,1,`rounded-lg border px-2 py-1 text-sm transition
                 ${B??""}`),m(f,e)},[()=>t(h).includes(e)?"border-[var(--accent)]/40 bg-[var(--accent)]/15":"border-white/10 bg-white/5 hover:bg-white/10"]),c(r,a)});var V=d(z,2);{var W=r=>{var e=fe();e.__click=[he,v,h],c(r,e)};k(V,r=>{t(h).length&&r(W)})}o(U),o(A);var E=d(A,2);F(E,21,()=>t(x),r=>r.slug,(r,e)=>{var a=je(),f=l(a);{var B=s=>{var i=ge();_(g=>K(i,"src",g),[()=>Q(t(e).cover)]),c(s,i)},X=s=>{var i=me();c(s,i)};k(f,s=>{t(e).cover?s(B):s(X,!1)})}var G=d(f,2),C=l(G),Y=l(C,!0);o(C);var H=d(C,2);{var Z=s=>{var i=be(),g=l(i,!0);o(i),_(()=>m(g,t(e).summary)),c(s,i)};k(H,s=>{t(e).summary&&s(Z)})}var ee=d(H,2);{var te=s=>{var i=ye(),g=l(i);F(g,16,()=>t(e).tech.slice(0,4),u=>u,(u,w)=>{var y=xe(),se=l(y,!0);o(y),_(()=>m(se,w)),c(u,y)});var re=d(g,2);{var ae=u=>{var w=we(),y=l(w);o(w),_(()=>m(y,`+${t(e).tech.length-4} more`)),c(u,w)};k(re,u=>{t(e).tech.length>4&&u(ae)})}o(i),c(s,i)};k(ee,s=>{t(e).tech?.length&&s(te)})}o(G),o(a),_(()=>{K(a,"href",`${M}/projects/${t(e).slug}`),m(Y,t(e).title)}),c(r,a)}),o(E),o(S),_(()=>m(R,t(I)?"Loading…":`${t(x).length} item${t(x).length===1?"":"s"}`)),pe(P,()=>t(v),r=>p(v,r)),c(q,S),ie()}oe(["click"]);export{Ce as component};
